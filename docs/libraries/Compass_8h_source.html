<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>APM:Libraries: libraries/AP_Compass/Compass.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">APM:Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="dir_65717d02e6482fd400ba81c154f53df4.html">AP_Compass</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Compass.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="Compass_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef Compass_h</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define Compass_h</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Common_8h.html">AP_Common.h</a>&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Param_8h.html">AP_Param.h</a>&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Math_8h.html">AP_Math.h</a>&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__Declination_8h.html">AP_Declination.h</a>&gt;</span> <span class="comment">// ArduPilot Mega Declination Helper Library</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="AP__HAL_8h.html">AP_HAL.h</a>&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__Backend_8h.html">AP_Compass_Backend.h</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// compass product id</span></div>
<div class="line"><a name="l00014"></a><span class="lineno"><a class="line" href="Compass_8h.html#a3089a7f6fad5ad5e41c982cef0abc470">   14</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_TYPE_UNKNOWN         0x00</span></div>
<div class="line"><a name="l00015"></a><span class="lineno"><a class="line" href="Compass_8h.html#af1ae5e6b47b64599a2b221435cbeaf73">   15</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_TYPE_HIL             0x01</span></div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="Compass_8h.html#addeb95c4d4f256837f717b46d9ec9c86">   16</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_TYPE_HMC5843         0x02</span></div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="Compass_8h.html#a34c745e27294ad2a73ed9961a38b3768">   17</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_TYPE_HMC5883L        0x03</span></div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="Compass_8h.html#ac7979858722d4d49c469eb838771d19e">   18</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_TYPE_PX4             0x04</span></div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="Compass_8h.html#ae08f60b8f31dc1abdab1e24e7e6cc265">   19</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_TYPE_VRBRAIN         0x05</span></div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="Compass_8h.html#a4c6921b74eeaa6ae9c70ec50074121c8">   20</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_TYPE_AK8963_MPU9250  0x06</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// motor compensation types (for use with motor_comp_enabled)</span></div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="Compass_8h.html#aea476312c9a32f19ab3a0d62f4027869">   23</a></span>&#160;<span class="preprocessor">#define AP_COMPASS_MOT_COMP_DISABLED    0x00</span></div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="Compass_8h.html#abcc8f45d824956d37bc5dad4710611b4">   24</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_MOT_COMP_THROTTLE    0x01</span></div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="Compass_8h.html#aa22be79a45fb28cb3160eacdf5ad4432">   25</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AP_COMPASS_MOT_COMP_CURRENT     0x02</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// setup default mag orientation for some board types</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#if CONFIG_HAL_BOARD == HAL_BOARD_APM1</span></div>
<div class="line"><a name="l00029"></a><span class="lineno"><a class="line" href="Compass_8h.html#aa61c5cc48785eef1f5b2143fa77a50e7">   29</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor"># define MAG_BOARD_ORIENTATION ROTATION_ROLL_180</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor"></span><span class="preprocessor"># define MAG_BOARD_ORIENTATION ROTATION_NONE</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#if HAL_CPU_CLASS &gt; HAL_CPU_CLASS_16</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define COMPASS_MAX_INSTANCES 3</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define COMPASS_MAX_BACKEND   3   </span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#else</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">   42</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define COMPASS_MAX_INSTANCES 1</span></div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="Compass_8h.html#a5ae256887a80a65f39d06f1cb2cbfacb">   43</a></span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define COMPASS_MAX_BACKEND   1   </span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classCompass.html">   46</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCompass.html">Compass</a></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="classCompass.html#a87e4a2c4ccbb3b8c126a75a1c8539e44">   48</a></span>&#160;<span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAP__Compass__Backend.html">AP_Compass_Backend</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classCompass.html#a68bd2a073cc0d461b2b46529aae04765">Compass</a>();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a190aefc281aba88c7b16e4fc58035c5e">init</a>();</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a2593e947a6c8a4937dccd2d367158b74">read</a>();    </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#aa3372aa51bd41b1d3ee3a9234a4396a0">accumulate</a>();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classCompass.html#aeef734d2cd69c8c0c3efa182ec7f80bb">calculate_heading</a>(<span class="keyword">const</span> <a class="code" href="classMatrix3.html">Matrix3f</a> &amp;dcm_matrix) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a18ec405430e055e4a01912a8ca73cbc3">set_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;offsets);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#afeac6bcfad2650762cccda72dbce3e69">set_and_save_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;offsets);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#abfc394b43272d5a6e97001232e201b7f">save_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#abfc394b43272d5a6e97001232e201b7f">save_offsets</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// return the number of compass instances</span></div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classCompass.html#a7bc9b45433e47cbd2632578388882135">  102</a></span>&#160;    uint8_t <a class="code" href="classCompass.html#a7bc9b45433e47cbd2632578388882135">get_count</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">_compass_count</a>; }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classCompass.html#aa1f44c7920bbd147fa2e58bfedd3c4bb">  105</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#aa1f44c7920bbd147fa2e58bfedd3c4bb">get_field</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">field</a>; }</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">  106</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">get_field</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">get_field</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classCompass.html#ae998984ada93f9cee4ea1e5671df9171">  109</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ae998984ada93f9cee4ea1e5671df9171">healthy</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">healthy</a>; }</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">  110</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">healthy</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">healthy</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="classCompass.html#a6ef45f63ac177793bf38270cef8228cb">  116</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a6ef45f63ac177793bf38270cef8228cb">get_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">offset</a>; }</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classCompass.html#a46431b5638dd088dd4a09026109544f2">  117</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a46431b5638dd088dd4a09026109544f2">get_offsets</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a46431b5638dd088dd4a09026109544f2">get_offsets</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a95d49517b12183412d9d0ed481b785bf">set_initial_location</a>(int32_t latitude, int32_t longitude);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classCompass.html#a82c25fb3c34757ee529eeece644c88fc">  133</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a82c25fb3c34757ee529eeece644c88fc">set_and_save_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keywordtype">int</span> <a class="code" href="DerivativeFilter_8cpp.html#a91f27329cbc70a03207bcee33e2b42fd">x</a>, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> z) {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="classCompass.html#afeac6bcfad2650762cccda72dbce3e69">set_and_save_offsets</a>(i, <a class="code" href="vector3_8h.html#af345ad77ba5e240c7ab72b4b2077e754">Vector3f</a>(x, y, z));</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="comment">// learn offsets accessor</span></div>
<div class="line"><a name="l00138"></a><span class="lineno"><a class="line" href="classCompass.html#a532f8a5a087bed8fa8f7c23057028785">  138</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a532f8a5a087bed8fa8f7c23057028785">learn_offsets_enabled</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">_learn</a>; }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#aebf060fcb30f98e8d2c158750efa3b10">learn_offsets</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ac47b570ae40bfba56a659c5ac766a464">use_for_yaw</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#ac47b570ae40bfba56a659c5ac766a464">use_for_yaw</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#ac3584d30eca4e60567613c1b09785505">set_declination</a>(<span class="keywordtype">float</span> <a class="code" href="AP__Math_8cpp.html#aa3adb05231060d239e5b91940e001f85">radians</a>, <span class="keywordtype">bool</span> save_to_eeprom = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordtype">float</span> <a class="code" href="classCompass.html#a5051de1d15ee203600422235ab93c88c">get_declination</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">// set overall board orientation</span></div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classCompass.html#a9b827b915597e590ea05fab467e676b0">  157</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a9b827b915597e590ea05fab467e676b0">set_board_orientation</a>(<span class="keyword">enum</span> <a class="code" href="rotations_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a> orientation) {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="classCompass.html#a1d376552464c5c5792326561d063ef7e">_board_orientation</a> = orientation;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#ad897fd4be9dd67a65343465614629568">motor_compensation_type</a>(<span class="keyword">const</span> uint8_t comp_type);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classCompass.html#a336097cfe417d924215ae16a8d54834c">  168</a></span>&#160;    uint8_t <a class="code" href="classCompass.html#a336097cfe417d924215ae16a8d54834c">get_motor_compensation_type</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a307ba851d14fd2ac3b655227812f6b4d">set_motor_compensation</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;motor_comp_factor);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classCompass.html#a851187d6b05722fb549d2534fa57a1f7">  180</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; <a class="code" href="classCompass.html#a851187d6b05722fb549d2534fa57a1f7">get_motor_compensation</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">motor_compensation</a>; }</div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">  181</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp; <a class="code" href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">get_motor_compensation</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">get_motor_compensation</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#adeefda110ce0a02edfb3d344d632777a">save_motor_compensation</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classCompass.html#a7eacebe38cd31859f7b5af7d90ff79ed">  193</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a7eacebe38cd31859f7b5af7d90ff79ed">get_motor_offsets</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>].<a class="code" href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">motor_offset</a>; }</div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="line" href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">  194</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;<a class="code" href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">get_motor_offsets</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">get_motor_offsets</a>(<a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>()); }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classCompass.html#a839923d1ee8f5b97644ff9d1fc034fed">  198</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a839923d1ee8f5b97644ff9d1fc034fed">set_throttle</a>(<span class="keywordtype">float</span> thr_pct) {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a> == <a class="code" href="Compass_8h.html#abcc8f45d824956d37bc5dad4710611b4">AP_COMPASS_MOT_COMP_THROTTLE</a>) {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <a class="code" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">_thr_or_curr</a> = thr_pct;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classCompass.html#a655af5eda065627c96838de985e24b57">  206</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a655af5eda065627c96838de985e24b57">set_current</a>(<span class="keywordtype">float</span> amps) {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a> == <a class="code" href="Compass_8h.html#aa22be79a45fb28cb3160eacdf5ad4432">AP_COMPASS_MOT_COMP_CURRENT</a>) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">_thr_or_curr</a> = amps;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a1479c75532bc97308b1c698b67cf9bcc">configured</a>(uint8_t <a class="code" href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a1479c75532bc97308b1c698b67cf9bcc">configured</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno"><a class="line" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">  223</a></span>&#160;    uint8_t <a class="code" href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">get_primary</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">_primary</a>; }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="comment">// HIL methods</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a30a8fa22b1e7ee8eec8143732d40716d">setHIL</a>(uint8_t instance, <span class="keywordtype">float</span> roll, <span class="keywordtype">float</span> pitch, <span class="keywordtype">float</span> yaw);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a30a8fa22b1e7ee8eec8143732d40716d">setHIL</a>(uint8_t instance, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a> &amp;mag);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keyword">const</span> <a class="code" href="classVector3.html">Vector3f</a>&amp;   <a class="code" href="classCompass.html#a4d696bdfb4d2ab9f0646d413cb6a0ee4">getHIL</a>(uint8_t instance) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a0bc30e897c2c0c412120e1b1337bd1cb">_setup_earth_field</a>();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="comment">// enable HIL mode</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classCompass.html#a2dd3a327289199d640892a0e78a2619f">  232</a></span>&#160;    <span class="keywordtype">void</span>        <a class="code" href="classCompass.html#a2dd3a327289199d640892a0e78a2619f">set_hil_mode</a>(<span class="keywordtype">void</span>) { <a class="code" href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">_hil_mode</a> = <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">// return last update time in microseconds</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="classCompass.html#a9600516e0dbde9186d3b14b3457af013">  235</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#a9600516e0dbde9186d3b14b3457af013">last_update_usec</a>(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classCompass.html#aaea07d9da1c4836fdf1300845514e831">_last_update_usec</a>; }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classCompass.html#a4a521c1c40cc45c4fe7c3e5680168ec7">  237</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a> <a class="code" href="classCompass.html#a4a521c1c40cc45c4fe7c3e5680168ec7">var_info</a>[];</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">// HIL variables</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">struct </span>{</div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="classCompass.html#affadd7bda9a16ce1c28be3249bad36b1">  241</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a> <a class="code" href="classCompass.html#affadd7bda9a16ce1c28be3249bad36b1">Bearth</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno"><a class="line" href="classCompass.html#aeb8bcac3c1fe1fc0b2c2c55259b3ea9b">  242</a></span>&#160;        <span class="keywordtype">float</span> <a class="code" href="classCompass.html#aeb8bcac3c1fe1fc0b2c2c55259b3ea9b">last_declination</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno"><a class="line" href="classCompass.html#ab3787292557255d4b935b00fe7a94f68">  243</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">healthy</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="classCompass.html#a0a8d322a3774f60f4c1577dad3ab016a">  244</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a> <a class="code" href="classCompass.html#a0a8d322a3774f60f4c1577dad3ab016a">field</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    } <a class="code" href="classCompass.html#a3c0f008f3766d88885b3c0893fe11d76">_hil</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    uint8_t <a class="code" href="classCompass.html#af1b5ea3ff42b02e04526d4be361a1ca1">register_compass</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">// load backend drivers</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a9e958fc87035f6afaccaceda983ad02a">_add_backend</a>(<a class="code" href="classAP__Compass__Backend.html">AP_Compass_Backend</a> *(detect)(<a class="code" href="classCompass.html">Compass</a> &amp;));</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classCompass.html#a1c48170d8c8966b22fb150b1634443ec">_detect_backends</a>(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">//&lt; micros() time of last update</span></div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="classCompass.html#aaea07d9da1c4836fdf1300845514e831">  258</a></span>&#160;    uint32_t <a class="code" href="classCompass.html#aaea07d9da1c4836fdf1300845514e831">_last_update_usec</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">// backend objects</span></div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classCompass.html#af46d67cb8eb4bc4c51bb12be6813cfdd">  261</a></span>&#160;    <a class="code" href="classAP__Compass__Backend.html">AP_Compass_Backend</a> *<a class="code" href="classCompass.html#af46d67cb8eb4bc4c51bb12be6813cfdd">_backends</a>[<a class="code" href="Compass_8h.html#a5ae256887a80a65f39d06f1cb2cbfacb">COMPASS_MAX_BACKEND</a>];</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="classCompass.html#ac3bf8f6ab108927b2ea704b3dcba1355">  262</a></span>&#160;    uint8_t     <a class="code" href="classCompass.html#ac3bf8f6ab108927b2ea704b3dcba1355">_backend_count</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">// number of registered compasses.</span></div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">  265</a></span>&#160;    uint8_t     <a class="code" href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">_compass_count</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// settable parameters</span></div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">  268</a></span>&#160;    AP_Int8 <a class="code" href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">_learn</a>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// board orientation from AHRS</span></div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="classCompass.html#a1d376552464c5c5792326561d063ef7e">  271</a></span>&#160;    <span class="keyword">enum</span> <a class="code" href="rotations_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a> <a class="code" href="classCompass.html#a1d376552464c5c5792326561d063ef7e">_board_orientation</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// primary instance</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">  274</a></span>&#160;    AP_Int8     <a class="code" href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">_primary</a>;                           </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="comment">// declination in radians</span></div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classCompass.html#a424b78025887b128dd21833cb6e31d0b">  277</a></span>&#160;    AP_Float    <a class="code" href="classCompass.html#a424b78025887b128dd21833cb6e31d0b">_declination</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">// enable automatic declination code</span></div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="classCompass.html#a92a1e23d7ff2ade9024f2145e4e8d0a2">  280</a></span>&#160;    AP_Int8     <a class="code" href="classCompass.html#a92a1e23d7ff2ade9024f2145e4e8d0a2">_auto_declination</a>;                  </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="comment">// first-time-around flag used by offset nulling</span></div>
<div class="line"><a name="l00283"></a><span class="lineno"><a class="line" href="classCompass.html#a9eab3a10f235ee9544ceaa11bb220c2c">  283</a></span>&#160;    <span class="keywordtype">bool</span>        <a class="code" href="classCompass.html#a9eab3a10f235ee9544ceaa11bb220c2c">_null_init_done</a>;                           </div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// used by offset correction</span></div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classCompass.html#abb757f0add93c16d079a469265e2489b">  286</a></span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> uint8_t <a class="code" href="classCompass.html#abb757f0add93c16d079a469265e2489b">_mag_history_size</a> = 20;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="comment">// motor compensation type</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="comment">// 0 = disabled, 1 = enabled for throttle, 2 = enabled for current</span></div>
<div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">  290</a></span>&#160;    AP_Int8     <a class="code" href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">_motor_comp_type</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// throttle expressed as a percentage from 0 ~ 1.0 or current expressed in amps</span></div>
<div class="line"><a name="l00293"></a><span class="lineno"><a class="line" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">  293</a></span>&#160;    <span class="keywordtype">float</span>       <a class="code" href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">_thr_or_curr</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html">  295</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structCompass_1_1mag__state.html">mag_state</a> {</div>
<div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a6e1b66a2e77ea4c79a545bf1951e85a3">  296</a></span>&#160;        AP_Int8     <a class="code" href="structCompass_1_1mag__state.html#a6e1b66a2e77ea4c79a545bf1951e85a3">external</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">  297</a></span>&#160;        <span class="keywordtype">bool</span>        <a class="code" href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">healthy</a>;</div>
<div class="line"><a name="l00298"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a037376c09d0116a149c11cceac015c6a">  298</a></span>&#160;        AP_Int8     <a class="code" href="structCompass_1_1mag__state.html#a037376c09d0116a149c11cceac015c6a">orientation</a>;</div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">  299</a></span>&#160;        AP_Vector3f <a class="code" href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">offset</a>;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">#if COMPASS_MAX_INSTANCES &gt; 1</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor"></span>        <span class="comment">// device id detected at init.  </span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="comment">// saved to eeprom when offsets are saved allowing ram &amp;</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="comment">// eeprom values to be compared as consistency check</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        AP_Int32    dev_id;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00307"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a49545b0efc480dbab4a518321a708dc1">  307</a></span>&#160;<span class="preprocessor"></span>        AP_Int8     <a class="code" href="structCompass_1_1mag__state.html#a49545b0efc480dbab4a518321a708dc1">use_for_yaw</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a05412f5a1f7b78ee7e78d53d225c8b91">  309</a></span>&#160;        uint8_t     <a class="code" href="structCompass_1_1mag__state.html#a05412f5a1f7b78ee7e78d53d225c8b91">mag_history_index</a>;</div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a96ee1f1d17891437030ed6d2409b4d82">  310</a></span>&#160;        <a class="code" href="classVector3.html">Vector3i</a>    <a class="code" href="structCompass_1_1mag__state.html#a96ee1f1d17891437030ed6d2409b4d82">mag_history</a>[<a class="code" href="classCompass.html#abb757f0add93c16d079a469265e2489b">_mag_history_size</a>];</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="comment">// factors multiplied by throttle and added to compass outputs</span></div>
<div class="line"><a name="l00313"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">  313</a></span>&#160;        AP_Vector3f <a class="code" href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">motor_compensation</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="comment">// latest compensation added to compass</span></div>
<div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">  316</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a>    <a class="code" href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">motor_offset</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="comment">// corrected magnetic field strength</span></div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">  319</a></span>&#160;        <a class="code" href="classVector3.html">Vector3f</a>    <a class="code" href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">field</a>;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="comment">// when we last got data</span></div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="structCompass_1_1mag__state.html#a37a5242ab675b8bdf0ce4246e03c5729">  322</a></span>&#160;        uint32_t    <a class="code" href="structCompass_1_1mag__state.html#a37a5242ab675b8bdf0ce4246e03c5729">last_update_ms</a>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    } <a class="code" href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">_state</a>[<a class="code" href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a>];</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="comment">// if we want HIL only</span></div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">  326</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">_hil_mode</a>:1;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;};</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__Backend_8h.html">AP_Compass_Backend.h</a>&quot;</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__HMC5843_8h.html">AP_Compass_HMC5843.h</a>&quot;</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__HIL_8h.html">AP_Compass_HIL.h</a>&quot;</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__AK8963_8h.html">AP_Compass_AK8963.h</a>&quot;</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="AP__Compass__PX4_8h.html">AP_Compass_PX4.h</a>&quot;</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="structCompass_1_1mag__state_html_ad12e4054ec35030309b98a799e9f0df4"><div class="ttname"><a href="structCompass_1_1mag__state.html#ad12e4054ec35030309b98a799e9f0df4">Compass::mag_state::healthy</a></div><div class="ttdeci">bool healthy</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00297">Compass.h:297</a></div></div>
<div class="ttc" id="classCompass_html_af1b5ea3ff42b02e04526d4be361a1ca1"><div class="ttname"><a href="classCompass.html#af1b5ea3ff42b02e04526d4be361a1ca1">Compass::register_compass</a></div><div class="ttdeci">uint8_t register_compass(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00318">Compass.cpp:318</a></div></div>
<div class="ttc" id="classCompass_html_a92a1e23d7ff2ade9024f2145e4e8d0a2"><div class="ttname"><a href="classCompass.html#a92a1e23d7ff2ade9024f2145e4e8d0a2">Compass::_auto_declination</a></div><div class="ttdeci">AP_Int8 _auto_declination</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00280">Compass.h:280</a></div></div>
<div class="ttc" id="GCS__Console_2examples_2Console_2Console_8pde_html_acb559820d9ca11295b4500f179ef6392"><div class="ttname"><a href="GCS__Console_2examples_2Console_2Console_8pde.html#acb559820d9ca11295b4500f179ef6392">i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="GCS__Console_2examples_2Console_2Console_8pde_source.html#l00061">Console.pde:61</a></div></div>
<div class="ttc" id="classCompass_html_a4a521c1c40cc45c4fe7c3e5680168ec7"><div class="ttname"><a href="classCompass.html#a4a521c1c40cc45c4fe7c3e5680168ec7">Compass::var_info</a></div><div class="ttdeci">static const struct AP_Param::GroupInfo var_info[]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00237">Compass.h:237</a></div></div>
<div class="ttc" id="AP__Compass__HMC5843_8h_html"><div class="ttname"><a href="AP__Compass__HMC5843_8h.html">AP_Compass_HMC5843.h</a></div></div>
<div class="ttc" id="classCompass_html_a68bd2a073cc0d461b2b46529aae04765"><div class="ttname"><a href="classCompass.html#a68bd2a073cc0d461b2b46529aae04765">Compass::Compass</a></div><div class="ttdeci">Compass()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00277">Compass.cpp:277</a></div></div>
<div class="ttc" id="Compass_8h_html_a0a6a0f28d3465747ea15e7d9091994de"><div class="ttname"><a href="Compass_8h.html#a0a6a0f28d3465747ea15e7d9091994de">COMPASS_MAX_INSTANCES</a></div><div class="ttdeci">#define COMPASS_MAX_INSTANCES</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00042">Compass.h:42</a></div></div>
<div class="ttc" id="classCompass_html_ae998984ada93f9cee4ea1e5671df9171"><div class="ttname"><a href="classCompass.html#ae998984ada93f9cee4ea1e5671df9171">Compass::healthy</a></div><div class="ttdeci">bool healthy(uint8_t i) const </div><div class="ttdoc">Return the health of a compass. </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00109">Compass.h:109</a></div></div>
<div class="ttc" id="vector3_8h_html_af345ad77ba5e240c7ab72b4b2077e754"><div class="ttname"><a href="vector3_8h.html#af345ad77ba5e240c7ab72b4b2077e754">Vector3f</a></div><div class="ttdeci">Vector3&lt; float &gt; Vector3f</div><div class="ttdef"><b>Definition:</b> <a href="vector3_8h_source.html#l00219">vector3.h:219</a></div></div>
<div class="ttc" id="classCompass_html_a9600516e0dbde9186d3b14b3457af013"><div class="ttname"><a href="classCompass.html#a9600516e0dbde9186d3b14b3457af013">Compass::last_update_usec</a></div><div class="ttdeci">uint32_t last_update_usec(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00235">Compass.h:235</a></div></div>
<div class="ttc" id="classCompass_html_a9a5653285eb6768ddfe8b7529ba12c03"><div class="ttname"><a href="classCompass.html#a9a5653285eb6768ddfe8b7529ba12c03">Compass::_learn</a></div><div class="ttdeci">AP_Int8 _learn</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00268">Compass.h:268</a></div></div>
<div class="ttc" id="AP__HAL_8h_html"><div class="ttname"><a href="AP__HAL_8h.html">AP_HAL.h</a></div></div>
<div class="ttc" id="classCompass_html_a46431b5638dd088dd4a09026109544f2"><div class="ttname"><a href="classCompass.html#a46431b5638dd088dd4a09026109544f2">Compass::get_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_offsets(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00117">Compass.h:117</a></div></div>
<div class="ttc" id="classCompass_html_a2dd3a327289199d640892a0e78a2619f"><div class="ttname"><a href="classCompass.html#a2dd3a327289199d640892a0e78a2619f">Compass::set_hil_mode</a></div><div class="ttdeci">void set_hil_mode(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00232">Compass.h:232</a></div></div>
<div class="ttc" id="classAP__Compass__Backend_html"><div class="ttname"><a href="classAP__Compass__Backend.html">AP_Compass_Backend</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Compass__Backend_8h_source.html#l00027">AP_Compass_Backend.h:27</a></div></div>
<div class="ttc" id="classCompass_html_aebf060fcb30f98e8d2c158750efa3b10"><div class="ttname"><a href="classCompass.html#aebf060fcb30f98e8d2c158750efa3b10">Compass::learn_offsets</a></div><div class="ttdeci">void learn_offsets(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass__learn_8cpp_source.html#l00028">Compass_learn.cpp:28</a></div></div>
<div class="ttc" id="classCompass_html_a7572e44dc0a3d6192a1a1a98627e2fd0"><div class="ttname"><a href="classCompass.html#a7572e44dc0a3d6192a1a1a98627e2fd0">Compass::get_motor_compensation</a></div><div class="ttdeci">const Vector3f &amp; get_motor_compensation(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00181">Compass.h:181</a></div></div>
<div class="ttc" id="classCompass_html_a30a8fa22b1e7ee8eec8143732d40716d"><div class="ttname"><a href="classCompass.html#a30a8fa22b1e7ee8eec8143732d40716d">Compass::setHIL</a></div><div class="ttdeci">void setHIL(uint8_t instance, float roll, float pitch, float yaw)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00571">Compass.cpp:571</a></div></div>
<div class="ttc" id="classCompass_html_a0120c84cc915d5a34aafedc1ce3f5186"><div class="ttname"><a href="classCompass.html#a0120c84cc915d5a34aafedc1ce3f5186">Compass::get_primary</a></div><div class="ttdeci">uint8_t get_primary(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00223">Compass.h:223</a></div></div>
<div class="ttc" id="classCompass_html_a532f8a5a087bed8fa8f7c23057028785"><div class="ttname"><a href="classCompass.html#a532f8a5a087bed8fa8f7c23057028785">Compass::learn_offsets_enabled</a></div><div class="ttdeci">bool learn_offsets_enabled() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00138">Compass.h:138</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a6e1b66a2e77ea4c79a545bf1951e85a3"><div class="ttname"><a href="structCompass_1_1mag__state.html#a6e1b66a2e77ea4c79a545bf1951e85a3">Compass::mag_state::external</a></div><div class="ttdeci">AP_Int8 external</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00296">Compass.h:296</a></div></div>
<div class="ttc" id="classCompass_html_a190aefc281aba88c7b16e4fc58035c5e"><div class="ttname"><a href="classCompass.html#a190aefc281aba88c7b16e4fc58035c5e">Compass::init</a></div><div class="ttdeci">bool init()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00302">Compass.cpp:302</a></div></div>
<div class="ttc" id="classCompass_html_afeac6bcfad2650762cccda72dbce3e69"><div class="ttname"><a href="classCompass.html#afeac6bcfad2650762cccda72dbce3e69">Compass::set_and_save_offsets</a></div><div class="ttdeci">void set_and_save_offsets(uint8_t i, const Vector3f &amp;offsets)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00405">Compass.cpp:405</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a05412f5a1f7b78ee7e78d53d225c8b91"><div class="ttname"><a href="structCompass_1_1mag__state.html#a05412f5a1f7b78ee7e78d53d225c8b91">Compass::mag_state::mag_history_index</a></div><div class="ttdeci">uint8_t mag_history_index</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00309">Compass.h:309</a></div></div>
<div class="ttc" id="classCompass_html_a6e03b3c0b3eb8e71581562f5054afad3"><div class="ttname"><a href="classCompass.html#a6e03b3c0b3eb8e71581562f5054afad3">Compass::_thr_or_curr</a></div><div class="ttdeci">float _thr_or_curr</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00293">Compass.h:293</a></div></div>
<div class="ttc" id="classMatrix3_html"><div class="ttname"><a href="classMatrix3.html">Matrix3&lt; float &gt;</a></div></div>
<div class="ttc" id="classCompass_html_aa3372aa51bd41b1d3ee3a9234a4396a0"><div class="ttname"><a href="classCompass.html#aa3372aa51bd41b1d3ee3a9234a4396a0">Compass::accumulate</a></div><div class="ttdeci">void accumulate()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00374">Compass.cpp:374</a></div></div>
<div class="ttc" id="classCompass_html_ac47b570ae40bfba56a659c5ac766a464"><div class="ttname"><a href="classCompass.html#ac47b570ae40bfba56a659c5ac766a464">Compass::use_for_yaw</a></div><div class="ttdeci">bool use_for_yaw(void) const </div><div class="ttdoc">return true if the compass should be used for yaw calculations </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00462">Compass.cpp:462</a></div></div>
<div class="ttc" id="classCompass_html_a2593e947a6c8a4937dccd2d367158b74"><div class="ttname"><a href="classCompass.html#a2593e947a6c8a4937dccd2d367158b74">Compass::read</a></div><div class="ttdeci">bool read()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00383">Compass.cpp:383</a></div></div>
<div class="ttc" id="classCompass_html_a424b78025887b128dd21833cb6e31d0b"><div class="ttname"><a href="classCompass.html#a424b78025887b128dd21833cb6e31d0b">Compass::_declination</a></div><div class="ttdeci">AP_Float _declination</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00277">Compass.h:277</a></div></div>
<div class="ttc" id="classCompass_html_a18ec405430e055e4a01912a8ca73cbc3"><div class="ttname"><a href="classCompass.html#a18ec405430e055e4a01912a8ca73cbc3">Compass::set_offsets</a></div><div class="ttdeci">void set_offsets(uint8_t i, const Vector3f &amp;offsets)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00396">Compass.cpp:396</a></div></div>
<div class="ttc" id="classCompass_html_a307ba851d14fd2ac3b655227812f6b4d"><div class="ttname"><a href="classCompass.html#a307ba851d14fd2ac3b655227812f6b4d">Compass::set_motor_compensation</a></div><div class="ttdeci">void set_motor_compensation(uint8_t i, const Vector3f &amp;motor_comp_factor)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00432">Compass.cpp:432</a></div></div>
<div class="ttc" id="classCompass_html_a7bc9b45433e47cbd2632578388882135"><div class="ttname"><a href="classCompass.html#a7bc9b45433e47cbd2632578388882135">Compass::get_count</a></div><div class="ttdeci">uint8_t get_count(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00102">Compass.h:102</a></div></div>
<div class="ttc" id="AP__Compass__PX4_8h_html"><div class="ttname"><a href="AP__Compass__PX4_8h.html">AP_Compass_PX4.h</a></div></div>
<div class="ttc" id="classCompass_html_a655af5eda065627c96838de985e24b57"><div class="ttname"><a href="classCompass.html#a655af5eda065627c96838de985e24b57">Compass::set_current</a></div><div class="ttdeci">void set_current(float amps)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00206">Compass.h:206</a></div></div>
<div class="ttc" id="classCompass_html_a9b827b915597e590ea05fab467e676b0"><div class="ttname"><a href="classCompass.html#a9b827b915597e590ea05fab467e676b0">Compass::set_board_orientation</a></div><div class="ttdeci">void set_board_orientation(enum Rotation orientation)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00157">Compass.h:157</a></div></div>
<div class="ttc" id="Compass_8h_html_a5ae256887a80a65f39d06f1cb2cbfacb"><div class="ttname"><a href="Compass_8h.html#a5ae256887a80a65f39d06f1cb2cbfacb">COMPASS_MAX_BACKEND</a></div><div class="ttdeci">#define COMPASS_MAX_BACKEND</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00043">Compass.h:43</a></div></div>
<div class="ttc" id="classCompass_html_a839923d1ee8f5b97644ff9d1fc034fed"><div class="ttname"><a href="classCompass.html#a839923d1ee8f5b97644ff9d1fc034fed">Compass::set_throttle</a></div><div class="ttdeci">void set_throttle(float thr_pct)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00198">Compass.h:198</a></div></div>
<div class="ttc" id="classCompass_html_a0bc30e897c2c0c412120e1b1337bd1cb"><div class="ttname"><a href="classCompass.html#a0bc30e897c2c0c412120e1b1337bd1cb">Compass::_setup_earth_field</a></div><div class="ttdeci">void _setup_earth_field()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00616">Compass.cpp:616</a></div></div>
<div class="ttc" id="AP__Param_8h_html"><div class="ttname"><a href="AP__Param_8h.html">AP_Param.h</a></div><div class="ttdoc">A system for managing and storing variables that are of general interest to the system. </div></div>
<div class="ttc" id="classCompass_html_a9e958fc87035f6afaccaceda983ad02a"><div class="ttname"><a href="classCompass.html#a9e958fc87035f6afaccaceda983ad02a">Compass::_add_backend</a></div><div class="ttdeci">void _add_backend(AP_Compass_Backend *(detect)(Compass &amp;))</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00330">Compass.cpp:330</a></div></div>
<div class="ttc" id="classCompass_html_a5051de1d15ee203600422235ab93c88c"><div class="ttname"><a href="classCompass.html#a5051de1d15ee203600422235ab93c88c">Compass::get_declination</a></div><div class="ttdeci">float get_declination() const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00486">Compass.cpp:486</a></div></div>
<div class="ttc" id="AP__Math_8cpp_html_aa3adb05231060d239e5b91940e001f85"><div class="ttname"><a href="AP__Math_8cpp.html#aa3adb05231060d239e5b91940e001f85">radians</a></div><div class="ttdeci">float radians(float deg)</div><div class="ttdef"><b>Definition:</b> <a href="AP__Math_8cpp_source.html#l00097">AP_Math.cpp:97</a></div></div>
<div class="ttc" id="classCompass_html_a394201f6f17f4cf13643b3e49c69a9cc"><div class="ttname"><a href="classCompass.html#a394201f6f17f4cf13643b3e49c69a9cc">Compass::_primary</a></div><div class="ttdeci">AP_Int8 _primary</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00274">Compass.h:274</a></div></div>
<div class="ttc" id="DerivativeFilter_8cpp_html_a91f27329cbc70a03207bcee33e2b42fd"><div class="ttname"><a href="DerivativeFilter_8cpp.html#a91f27329cbc70a03207bcee33e2b42fd">x</a></div><div class="ttdeci">#define x(i)</div></div>
<div class="ttc" id="classCompass_html_aeb8bcac3c1fe1fc0b2c2c55259b3ea9b"><div class="ttname"><a href="classCompass.html#aeb8bcac3c1fe1fc0b2c2c55259b3ea9b">Compass::last_declination</a></div><div class="ttdeci">float last_declination</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00242">Compass.h:242</a></div></div>
<div class="ttc" id="classCompass_html_a851187d6b05722fb549d2534fa57a1f7"><div class="ttname"><a href="classCompass.html#a851187d6b05722fb549d2534fa57a1f7">Compass::get_motor_compensation</a></div><div class="ttdeci">const Vector3f &amp; get_motor_compensation(uint8_t i) const </div><div class="ttdoc">get motor compensation factors as a vector </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00180">Compass.h:180</a></div></div>
<div class="ttc" id="classCompass_html"><div class="ttname"><a href="classCompass.html">Compass</a></div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00046">Compass.h:46</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a96ee1f1d17891437030ed6d2409b4d82"><div class="ttname"><a href="structCompass_1_1mag__state.html#a96ee1f1d17891437030ed6d2409b4d82">Compass::mag_state::mag_history</a></div><div class="ttdeci">Vector3i mag_history[_mag_history_size]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00310">Compass.h:310</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html"><div class="ttname"><a href="structCompass_1_1mag__state.html">Compass::mag_state</a></div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00295">Compass.h:295</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a3e2ff88eb37ae470b4c1b4b3c232305e"><div class="ttname"><a href="structCompass_1_1mag__state.html#a3e2ff88eb37ae470b4c1b4b3c232305e">Compass::mag_state::offset</a></div><div class="ttdeci">AP_Vector3f offset</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00299">Compass.h:299</a></div></div>
<div class="ttc" id="classCompass_html_a9eab3a10f235ee9544ceaa11bb220c2c"><div class="ttname"><a href="classCompass.html#a9eab3a10f235ee9544ceaa11bb220c2c">Compass::_null_init_done</a></div><div class="ttdeci">bool _null_init_done</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00283">Compass.h:283</a></div></div>
<div class="ttc" id="structAP__Param_1_1GroupInfo_html"><div class="ttname"><a href="structAP__Param_1_1GroupInfo.html">AP_Param::GroupInfo</a></div><div class="ttdef"><b>Definition:</b> <a href="AP__Param_8h_source.html#l00078">AP_Param.h:78</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a037376c09d0116a149c11cceac015c6a"><div class="ttname"><a href="structCompass_1_1mag__state.html#a037376c09d0116a149c11cceac015c6a">Compass::mag_state::orientation</a></div><div class="ttdeci">AP_Int8 orientation</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00298">Compass.h:298</a></div></div>
<div class="ttc" id="classCompass_html_af46d67cb8eb4bc4c51bb12be6813cfdd"><div class="ttname"><a href="classCompass.html#af46d67cb8eb4bc4c51bb12be6813cfdd">Compass::_backends</a></div><div class="ttdeci">AP_Compass_Backend * _backends[COMPASS_MAX_BACKEND]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00261">Compass.h:261</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a49545b0efc480dbab4a518321a708dc1"><div class="ttname"><a href="structCompass_1_1mag__state.html#a49545b0efc480dbab4a518321a708dc1">Compass::mag_state::use_for_yaw</a></div><div class="ttdeci">AP_Int8 use_for_yaw</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00307">Compass.h:307</a></div></div>
<div class="ttc" id="classCompass_html_a22ce936207eeda5d3fa55237271cef3e"><div class="ttname"><a href="classCompass.html#a22ce936207eeda5d3fa55237271cef3e">Compass::get_field</a></div><div class="ttdeci">const Vector3f &amp; get_field(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00106">Compass.h:106</a></div></div>
<div class="ttc" id="classCompass_html_a7eacebe38cd31859f7b5af7d90ff79ed"><div class="ttname"><a href="classCompass.html#a7eacebe38cd31859f7b5af7d90ff79ed">Compass::get_motor_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_motor_offsets(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00193">Compass.h:193</a></div></div>
<div class="ttc" id="classCompass_html_a0a8d322a3774f60f4c1577dad3ab016a"><div class="ttname"><a href="classCompass.html#a0a8d322a3774f60f4c1577dad3ab016a">Compass::field</a></div><div class="ttdeci">Vector3f field[COMPASS_MAX_INSTANCES]</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00244">Compass.h:244</a></div></div>
<div class="ttc" id="AP__Math_8h_html"><div class="ttname"><a href="AP__Math_8h.html">AP_Math.h</a></div></div>
<div class="ttc" id="AP__Compass__AK8963_8h_html"><div class="ttname"><a href="AP__Compass__AK8963_8h.html">AP_Compass_AK8963.h</a></div></div>
<div class="ttc" id="classCompass_html_a53de8105fdd000b28afe20ced1b85d5a"><div class="ttname"><a href="classCompass.html#a53de8105fdd000b28afe20ced1b85d5a">Compass::_motor_comp_type</a></div><div class="ttdeci">AP_Int8 _motor_comp_type</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00290">Compass.h:290</a></div></div>
<div class="ttc" id="Compass_8h_html_abcc8f45d824956d37bc5dad4710611b4"><div class="ttname"><a href="Compass_8h.html#abcc8f45d824956d37bc5dad4710611b4">AP_COMPASS_MOT_COMP_THROTTLE</a></div><div class="ttdeci">#define AP_COMPASS_MOT_COMP_THROTTLE</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00024">Compass.h:24</a></div></div>
<div class="ttc" id="classCompass_html_a4d696bdfb4d2ab9f0646d413cb6a0ee4"><div class="ttname"><a href="classCompass.html#a4d696bdfb4d2ab9f0646d413cb6a0ee4">Compass::getHIL</a></div><div class="ttdeci">const Vector3f &amp; getHIL(uint8_t instance) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00610">Compass.cpp:610</a></div></div>
<div class="ttc" id="classCompass_html_a1c48170d8c8966b22fb150b1634443ec"><div class="ttname"><a href="classCompass.html#a1c48170d8c8966b22fb150b1634443ec">Compass::_detect_backends</a></div><div class="ttdeci">void _detect_backends(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00345">Compass.cpp:345</a></div></div>
<div class="ttc" id="classCompass_html_a6ef45f63ac177793bf38270cef8228cb"><div class="ttname"><a href="classCompass.html#a6ef45f63ac177793bf38270cef8228cb">Compass::get_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_offsets(uint8_t i) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00116">Compass.h:116</a></div></div>
<div class="ttc" id="AP__Common_8h_html"><div class="ttname"><a href="AP__Common_8h.html">AP_Common.h</a></div><div class="ttdoc">Common definitions and utility routines for the ArduPilot libraries. </div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a68760988300f793f13dbfecfcc4c2714"><div class="ttname"><a href="structCompass_1_1mag__state.html#a68760988300f793f13dbfecfcc4c2714">Compass::mag_state::motor_offset</a></div><div class="ttdeci">Vector3f motor_offset</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00316">Compass.h:316</a></div></div>
<div class="ttc" id="classCompass_html_ac3584d30eca4e60567613c1b09785505"><div class="ttname"><a href="classCompass.html#ac3584d30eca4e60567613c1b09785505">Compass::set_declination</a></div><div class="ttdeci">void set_declination(float radians, bool save_to_eeprom=true)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00476">Compass.cpp:476</a></div></div>
<div class="ttc" id="classCompass_html_a26a6c969c9e588fb680b04e99edbe811"><div class="ttname"><a href="classCompass.html#a26a6c969c9e588fb680b04e99edbe811">Compass::_hil_mode</a></div><div class="ttdeci">bool _hil_mode</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00326">Compass.h:326</a></div></div>
<div class="ttc" id="classCompass_html_ad897fd4be9dd67a65343465614629568"><div class="ttname"><a href="classCompass.html#ad897fd4be9dd67a65343465614629568">Compass::motor_compensation_type</a></div><div class="ttdeci">void motor_compensation_type(const uint8_t comp_type)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00631">Compass.cpp:631</a></div></div>
<div class="ttc" id="AP__Compass__Backend_8h_html"><div class="ttname"><a href="AP__Compass__Backend_8h.html">AP_Compass_Backend.h</a></div></div>
<div class="ttc" id="classCompass_html_a3be4f1bd3056c7c0d97226f58e9f32f0"><div class="ttname"><a href="classCompass.html#a3be4f1bd3056c7c0d97226f58e9f32f0">Compass::healthy</a></div><div class="ttdeci">bool healthy(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00110">Compass.h:110</a></div></div>
<div class="ttc" id="AP__Declination_8h_html"><div class="ttname"><a href="AP__Declination_8h.html">AP_Declination.h</a></div></div>
<div class="ttc" id="classCompass_html_a336097cfe417d924215ae16a8d54834c"><div class="ttname"><a href="classCompass.html#a336097cfe417d924215ae16a8d54834c">Compass::get_motor_compensation_type</a></div><div class="ttdeci">uint8_t get_motor_compensation_type() const </div><div class="ttdoc">get the motor compensation value. </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00168">Compass.h:168</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a37a5242ab675b8bdf0ce4246e03c5729"><div class="ttname"><a href="structCompass_1_1mag__state.html#a37a5242ab675b8bdf0ce4246e03c5729">Compass::mag_state::last_update_ms</a></div><div class="ttdeci">uint32_t last_update_ms</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00322">Compass.h:322</a></div></div>
<div class="ttc" id="classCompass_html_afd52e3b95b4813b56a79742c0d98e6e4"><div class="ttname"><a href="classCompass.html#afd52e3b95b4813b56a79742c0d98e6e4">Compass::_compass_count</a></div><div class="ttdeci">uint8_t _compass_count</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00265">Compass.h:265</a></div></div>
<div class="ttc" id="Compass_8h_html_aa22be79a45fb28cb3160eacdf5ad4432"><div class="ttname"><a href="Compass_8h.html#aa22be79a45fb28cb3160eacdf5ad4432">AP_COMPASS_MOT_COMP_CURRENT</a></div><div class="ttdeci">#define AP_COMPASS_MOT_COMP_CURRENT</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00025">Compass.h:25</a></div></div>
<div class="ttc" id="classVector3_html"><div class="ttname"><a href="classVector3.html">Vector3&lt; float &gt;</a></div></div>
<div class="ttc" id="classCompass_html_a7dd2ed6c298000c620e1919b67a9e029"><div class="ttname"><a href="classCompass.html#a7dd2ed6c298000c620e1919b67a9e029">Compass::get_motor_offsets</a></div><div class="ttdeci">const Vector3f &amp; get_motor_offsets(void) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00194">Compass.h:194</a></div></div>
<div class="ttc" id="classCompass_html_aa1f44c7920bbd147fa2e58bfedd3c4bb"><div class="ttname"><a href="classCompass.html#aa1f44c7920bbd147fa2e58bfedd3c4bb">Compass::get_field</a></div><div class="ttdeci">const Vector3f &amp; get_field(uint8_t i) const </div><div class="ttdoc">Return the current field as a Vector3f. </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00105">Compass.h:105</a></div></div>
<div class="ttc" id="rotations_8h_html_a4940d1dc528122726d2c8c475657e1a9"><div class="ttname"><a href="rotations_8h.html#a4940d1dc528122726d2c8c475657e1a9">Rotation</a></div><div class="ttdeci">Rotation</div><div class="ttdoc">-*- tab-width: 4; Mode: C++; c-basic-offset: 4; indent-tabs-mode: nil -*- </div><div class="ttdef"><b>Definition:</b> <a href="rotations_8h_source.html#l00028">rotations.h:28</a></div></div>
<div class="ttc" id="classCompass_html_affadd7bda9a16ce1c28be3249bad36b1"><div class="ttname"><a href="classCompass.html#affadd7bda9a16ce1c28be3249bad36b1">Compass::Bearth</a></div><div class="ttdeci">Vector3f Bearth</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00241">Compass.h:241</a></div></div>
<div class="ttc" id="classCompass_html_aeef734d2cd69c8c0c3efa182ec7f80bb"><div class="ttname"><a href="classCompass.html#aeef734d2cd69c8c0c3efa182ec7f80bb">Compass::calculate_heading</a></div><div class="ttdeci">float calculate_heading(const Matrix3f &amp;dcm_matrix) const </div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00495">Compass.cpp:495</a></div></div>
<div class="ttc" id="classCompass_html_aaea07d9da1c4836fdf1300845514e831"><div class="ttname"><a href="classCompass.html#aaea07d9da1c4836fdf1300845514e831">Compass::_last_update_usec</a></div><div class="ttdeci">uint32_t _last_update_usec</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00258">Compass.h:258</a></div></div>
<div class="ttc" id="classCompass_html_abfc394b43272d5a6e97001232e201b7f"><div class="ttname"><a href="classCompass.html#abfc394b43272d5a6e97001232e201b7f">Compass::save_offsets</a></div><div class="ttdeci">void save_offsets(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00424">Compass.cpp:424</a></div></div>
<div class="ttc" id="classCompass_html_ac3bf8f6ab108927b2ea704b3dcba1355"><div class="ttname"><a href="classCompass.html#ac3bf8f6ab108927b2ea704b3dcba1355">Compass::_backend_count</a></div><div class="ttdeci">uint8_t _backend_count</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00262">Compass.h:262</a></div></div>
<div class="ttc" id="AP__Compass__HIL_8h_html"><div class="ttname"><a href="AP__Compass__HIL_8h.html">AP_Compass_HIL.h</a></div></div>
<div class="ttc" id="classCompass_html_a82c25fb3c34757ee529eeece644c88fc"><div class="ttname"><a href="classCompass.html#a82c25fb3c34757ee529eeece644c88fc">Compass::set_and_save_offsets</a></div><div class="ttdeci">void set_and_save_offsets(uint8_t i, int x, int y, int z)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00133">Compass.h:133</a></div></div>
<div class="ttc" id="classCompass_html_a3c0f008f3766d88885b3c0893fe11d76"><div class="ttname"><a href="classCompass.html#a3c0f008f3766d88885b3c0893fe11d76">Compass::_hil</a></div><div class="ttdeci">struct Compass::@2 _hil</div></div>
<div class="ttc" id="classCompass_html_a1479c75532bc97308b1c698b67cf9bcc"><div class="ttname"><a href="classCompass.html#a1479c75532bc97308b1c698b67cf9bcc">Compass::configured</a></div><div class="ttdeci">bool configured(void)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00560">Compass.cpp:560</a></div></div>
<div class="ttc" id="classCompass_html_aa953947e6a3d5acc0504e3f7c1e6b61d"><div class="ttname"><a href="classCompass.html#aa953947e6a3d5acc0504e3f7c1e6b61d">Compass::_state</a></div><div class="ttdeci">struct Compass::mag_state _state[COMPASS_MAX_INSTANCES]</div></div>
<div class="ttc" id="classCompass_html_a95d49517b12183412d9d0ed481b785bf"><div class="ttname"><a href="classCompass.html#a95d49517b12183412d9d0ed481b785bf">Compass::set_initial_location</a></div><div class="ttdeci">void set_initial_location(int32_t latitude, int32_t longitude)</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00447">Compass.cpp:447</a></div></div>
<div class="ttc" id="classCompass_html_a1d376552464c5c5792326561d063ef7e"><div class="ttname"><a href="classCompass.html#a1d376552464c5c5792326561d063ef7e">Compass::_board_orientation</a></div><div class="ttdeci">enum Rotation _board_orientation</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00271">Compass.h:271</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_a90887b7c30ed529dc3fecfb36729f9d7"><div class="ttname"><a href="structCompass_1_1mag__state.html#a90887b7c30ed529dc3fecfb36729f9d7">Compass::mag_state::motor_compensation</a></div><div class="ttdeci">AP_Vector3f motor_compensation</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00313">Compass.h:313</a></div></div>
<div class="ttc" id="classCompass_html_abb757f0add93c16d079a469265e2489b"><div class="ttname"><a href="classCompass.html#abb757f0add93c16d079a469265e2489b">Compass::_mag_history_size</a></div><div class="ttdeci">static const uint8_t _mag_history_size</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00286">Compass.h:286</a></div></div>
<div class="ttc" id="structCompass_1_1mag__state_html_ab28e5dcaf24ec01fef67b8b5c5a84a9e"><div class="ttname"><a href="structCompass_1_1mag__state.html#ab28e5dcaf24ec01fef67b8b5c5a84a9e">Compass::mag_state::field</a></div><div class="ttdeci">Vector3f field</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8h_source.html#l00319">Compass.h:319</a></div></div>
<div class="ttc" id="classCompass_html_adeefda110ce0a02edfb3d344d632777a"><div class="ttname"><a href="classCompass.html#adeefda110ce0a02edfb3d344d632777a">Compass::save_motor_compensation</a></div><div class="ttdeci">void save_motor_compensation()</div><div class="ttdef"><b>Definition:</b> <a href="Compass_8cpp_source.html#l00438">Compass.cpp:438</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 22 2016 15:25:20 for APM:Libraries by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
